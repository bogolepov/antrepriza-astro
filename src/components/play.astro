---

const {lang, play_id} = Astro.props;

import plays_ru from '@data/plays_ru.json'
import plays_de from '@data/plays_de.json'
let plays = (lang === 'de') ? plays_de : plays_ru;

let thisPlay = plays.filter(play => play_id == play.id)[0];

import type { ImageMetadata } from 'astro'
import { Picture } from 'astro:assets'
const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/*.{jpeg,jpg,png,gif}');


---

<h1>{thisPlay.title}</h1>
<div>{thisPlay.author_full}</div>
<div>
  <Picture 
    class:list={'image-wrapper-landscape black-white-filter'} 
    src={images["/src/assets/" + thisPlay.posters.landscape]()} 
    formats={['avif', 'webp']} 
    widths={[280, 400, 640]}
    sizes={'(max-width: 320px) 280px, (max-width: 660px) 640px, (max-width: 1300px) 400px, 640px'}
    alt={thisPlay.alt_title} />
</div>
<div>{thisPlay.genre}</div>
<div>{thisPlay.age}</div>
<div>{thisPlay.length}</div>
<div>{thisPlay.lang}</div>
