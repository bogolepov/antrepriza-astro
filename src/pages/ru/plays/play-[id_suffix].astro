---
import type { GetStaticPaths } from "astro";

import AntreprizaLayout from "@layouts/AntreprizaLayout.astro";
import Play from "@components/play.astro";

import plays from '@data/plays.json'

export const getStaticPaths = (() => {  
  let expLang = "ru";
  return plays.map(play => {
    let aTitle = "Theater Antrepriza - " + play.title[expLang];
    if (play.title_notice && play.title_notice[expLang]) aTitle = aTitle + " [" + play.title_notice[expLang] + "]";
    return {
      params: {id_suffix: play.suffix},
      props: {pageLang: expLang, pageTitle: aTitle, playID: play.id.toString()},
    }
  });
}) satisfies GetStaticPaths;

const {pageLang, pageTitle, playID} = Astro.props;

---

<AntreprizaLayout title={pageTitle} lang={pageLang}>
  <Play lang={pageLang} play_id={playID}></Play>
</AntreprizaLayout>


