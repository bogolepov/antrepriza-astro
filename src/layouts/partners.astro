---

const { lang } = Astro.props;

import dictionary from '@data/dictionary.json'
import theater from '@data/theater.json'

import '@styles/partners.css'

import type { ImageMetadata } from 'astro'
import { Picture } from 'astro:assets'
const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/*.{jpeg,jpg,png,gif}');

---

<section class="partners">
  <h1 class="section-title">{dictionary.menu_partners[lang]}</h1>
  <div class="partners-block">
    <div class="logo-flex">
    {
      theater.partners.map(partner => {
        if (partner.logo)
          return (
              <div class="logo">
                <a href={partner.url} target="_blank"	rel="noopener external">
                  <Picture 
                    class:list={'image-wrapper-landscape'} 
                    src={images["/src/assets/" + partner.logo]()} 
                    formats={['webp']} 
                    widths={[120]}
                    sizes={'120px'}
                    alt={partner.name[lang]}
                    loading="eager" />
                  </a>
              </div>
          )
      })
    }
    </div>
    <div class="offer">
      <div class="theater-name">{theater.longTheaterName[lang]}</div>
      <p>{theater.partner_offer[lang]}</p>
    </div>
  </div>
  <div class="page-end"></div>
</section>
